#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

// Size of the disk
const int size_disk = 200;

// C-SCAN algorithm
void c_scan_algorithm(vector <int>& arr, int N, int initial){
    
    // Sorting the inital array of requests
    sort(arr.begin(), arr.end());
    
    // Stores the order in which requests are processed
    vector <int> order;
    
    // Stores the total head movement
    int total = 0;
    
    /*
        Extract the first request with a value greater 
        Than or equal to the head and calculating the requests
    */
    int fi = N, last = initial;
    for(int i = 0; i < N; i++){
        
        if(arr[i] >= initial){
            
            total += (arr[i] - last);
            order.push_back(arr[i]);
            last = arr[i];
        }
    }
    
    // Reaching the end of the disc
    total += (size_disk - last - 1);
    order.push_back(size_disk - 1);
    
    // Reaching the starting of the disc
    total += (size_disk-1 - 0);
    order.push_back(0);
    
    /*
        Extract the requests with a value less 
        Than or equal to the head and calculate the requests
    */
    last = 0;
    for(int i = 0; i < N; i++){
        
        if(arr[i] < initial){
            
            total += (arr[i] - last);
            order.push_back(arr[i]);
            last = arr[i];
        }
        // Already processed requests
        else{
            break;
        }
    }
    
    // Printing the order of requests
    cout<<"The order in which requests are processed\n";
    for(int i: order){
        cout<<i<<" ";
    }
    cout<<"\n\n";
    
    // Printing the total head movement
    cout<<"Total head movement = "<<total;
}

// Driver function
int main() {
    
    // Total number of requests
    int N = 8;
    
    // Request Array
    vector <int> arr(N);
    arr[0] = 98;
    arr[1] = 183;
    arr[2] = 37;
    arr[3] = 122;
    arr[4] = 14;
    arr[5] = 124;
    arr[6] = 65;
    arr[7] = 67;
    
    // Initial position of the head pointer
    int initial = 53;
    
    // Calling the function
    c_scan_algorithm(arr, N, initial);
}
